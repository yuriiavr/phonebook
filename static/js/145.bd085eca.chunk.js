"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[145],{3145:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(3087),r=n(9439),c=n(2791),s=n(9434),o=n(23),i=n(2007),u=n.n(i),l="Contact_contact__delete__btn__otJXt",d="Contact_contact__info__aPNH-",m=n(184),h=function(e){var t=e.name,n=e.number,a=e.deleteEl,r=e.id,c=e.editEl;return(0,m.jsx)("div",{children:(0,m.jsxs)(o.Z.Item,{className:d,children:[t,": ",n,(0,m.jsx)("button",{type:"button",className:" ".concat(l),onClick:function(){return a(r)},children:"Delete"}),(0,m.jsx)("button",{variant:"primary",type:"button",className:" ".concat(l),onClick:function(){return c(r)},children:"Edit"})]})})};h.propType={id:u().string.isRequired,name:u().string.isRequired,number:u().number.isRequired,deleteEl:u().func.isRequired};var f=h,_=n(5861),p=n(4687),v=n.n(p),x=n(4569),b=n.n(x),C=n(7396),j={fetchContacts:function(){return function(){var e=(0,_.Z)(v().mark((function e(t){var n,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,C.$0)()),e.prev=1,e.next=4,b().get("/contacts");case 4:n=e.sent,a=n.data,t((0,C.v2)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((0,C.I7)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},addContact:function(e){return function(t){t((0,C.md)()),b().post("/contacts",e).then((function(e){var n=e.data;return t((0,C.ff)(n))})).catch((function(e){return t((0,C.xZ)(e.message))}))}},deleteContact:function(e){return function(t){t((0,C.LF)()),b().delete("/contacts/".concat(e)).then((function(){return t((0,C.uv)(e))})).catch((function(e){return t((0,C.EF)(e.message))}))}},editContact:function(e){var t=e.id,n=e.name,a=e.number;return function(e){var r={name:n,number:a};e((0,C.us)()),b().patch("/contacts/".concat(t),r).then((function(t){var n=t.data;return e((0,C.FS)(n))})).catch((function(t){return e((0,C.cZ)(t.message))}))}}},Z=j,g=n(4942),N=n(1413),y="Modal_submit__btn__SlwEB",w=n(249);function k(e){var t=e.show,n=e.handleClose,a=e.editableItem,o=(0,c.useState)({id:a.id,name:a.name,number:a.number}),i=(0,r.Z)(o,2),u=i[0],l=i[1],d=(0,s.v9)((function(e){return e.contacts})),h=(0,s.I0)(),f=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":case"number":l((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,g.Z)({},n,a))}));break;default:return}};return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(w.Z,{show:t,onHide:n,children:[(0,m.jsx)(w.Z.Header,{closeButton:!0,children:(0,m.jsx)(w.Z.Title,{children:"Edit contact"})}),(0,m.jsx)(w.Z.Body,{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{children:"Name"}),(0,m.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:u.name,onChange:f}),(0,m.jsx)("h2",{children:"Number"}),(0,m.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u.number,onChange:f})]})}),(0,m.jsxs)(w.Z.Footer,{children:[(0,m.jsx)("button",{className:y,variant:"secondary",onClick:n,children:"Cancel"}),(0,m.jsx)("button",{className:y,variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var t,a=u.name;d.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(t=u,h(Z.editContact(t))),n()},children:"Save Changes"})]})]})})}var F="ContactList_contact__list__2jNwc",L="ContactList_contact__list__item__fOWm7";function A(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,c.useState)(),u=(0,r.Z)(i,2),l=u[0],d=u[1],h=function(e){a(!0);var t=p.find((function(t){return t.id===e}));d(t)},_=(0,s.I0)(),p=(0,s.v9)((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(arguments.length>1?arguments[1]:void 0).toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(e.contacts.contacts,e.contacts.filter)})),v=function(e){return _(Z.deleteContact(e))};return(0,c.useEffect)((function(){_(Z.fetchContacts())}),[_]),(0,m.jsxs)("div",{children:[(0,m.jsx)(o.Z,{className:F,children:p.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,m.jsx)(f,{id:t,name:n,number:a,deleteEl:v,editEl:h,className:L},t)}))}),(0,m.jsx)("div",{children:n&&(0,m.jsx)(k,{show:n,handleClose:function(){return a(!1)},editableItem:l})})]})}var E=n(3027),P="SearchForm_filter__LXR9F",S="SearchForm_filter__input__oa1Hk";function I(){var e=(0,s.v9)((function(e){return e.contacts.filter})),t=(0,s.I0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(E.Z.Label,{htmlFor:"inputPassword5",className:P,children:"Find Contacts by Name"}),(0,m.jsx)(E.Z.Control,{type:"text",id:"inputPassword5",placeholder:"Search...",value:e,"aria-describedby":"passwordHelpBlock",onChange:function(e){return t(C.ZP.changeFilter(e.target.value))},className:S})]})}var q="ContactForm_form__dhl+T",B="ContactForm_form__label__8W82B",z="ContactForm_submit__btn__H2f6I",R="ContactForm_text__muted__tx0Jf";function T(){var e=(0,c.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,c.useState)(""),i=(0,r.Z)(o,2),u=i[0],l=i[1],d=(0,s.v9)((function(e){return e.contacts})),h=(0,s.I0)(),f=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":a(r);break;case"number":l(r);break;default:return}},_=function(){a(""),l("")};return(0,m.jsx)(E.Z,{onSubmit:function(e){e.preventDefault();var t,a=e.target[0].value;d.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(t={name:n,number:u},h(Z.addContact(t))),_()},className:q,children:(0,m.jsxs)("div",{children:[(0,m.jsxs)(E.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,m.jsx)(E.Z.Label,{className:B,children:"Name"}),(0,m.jsx)(E.Z.Control,{type:"text",placeholder:"Enter name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:f}),(0,m.jsx)(E.Z.Text,{className:R,children:"Please enter your name"})]}),(0,m.jsxs)(E.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,m.jsx)(E.Z.Label,{className:B,children:"Number"}),(0,m.jsx)(E.Z.Control,{type:"tel",placeholder:"Enter phone number",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:f}),(0,m.jsx)(E.Z.Text,{className:R,children:"Please enter your phone number"})]}),(0,m.jsx)("button",{variant:"primary",type:"submit",className:z,children:"Add contact"})]})})}T.propType={addContact:u().func.isRequired,arrayContact:u().array.isRequired};var H="ContactsPage_ListName__wU8RC",D="ContactsPage_Table__AlmDv",J="ContactsPage_contact_heading__rgMg7";function M(){return(0,m.jsx)("div",{children:(0,m.jsxs)(a.Z,{children:[(0,m.jsx)("h1",{className:J,children:"Phone Book"}),(0,m.jsxs)("div",{className:D,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:H,children:"Adding contacts"}),(0,m.jsx)(T,{})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:H,children:"Contacts list"}),(0,m.jsx)(I,{}),(0,m.jsx)(A,{})]})]})]})})}}}]);
//# sourceMappingURL=145.bd085eca.chunk.js.map