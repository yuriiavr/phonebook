"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[140],{140:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var a=n(3087),r=n(9439),c=n(2791),s=n(9434),i=n(23),o=n(2007),u=n.n(o),d=n(3360),l="Contact_contact__delete__btn__otJXt",m="Contact_contact__info__aPNH-",h=n(184),f=function(e){var t=e.name,n=e.number,a=e.deleteEl,r=e.id,c=e.editEl;return(0,h.jsx)("div",{children:(0,h.jsxs)(i.Z.Item,{className:m,children:[t,": ",n,(0,h.jsx)(d.Z,{type:"button",className:" ".concat(l),onClick:function(){return a(r)},children:"Delete"}),(0,h.jsx)(d.Z,{variant:"primary",type:"button",className:" ".concat(l),onClick:function(){return c(r)},children:"Edit"})]})})};f.propType={id:u().string.isRequired,name:u().string.isRequired,number:u().number.isRequired,deleteEl:u().func.isRequired};var p=f,v=n(5861),x=n(4687),_=n.n(x),C=n(4569),b=n.n(C),j=n(7396),Z={fetchContacts:function(){return function(){var e=(0,v.Z)(_().mark((function e(t){var n,a;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t((0,j.$0)()),e.prev=1,e.next=4,b().get("/contacts");case 4:n=e.sent,a=n.data,t((0,j.v2)(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t((0,j.I7)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},addContact:function(e){return function(t){t((0,j.md)()),b().post("/contacts",e).then((function(e){var n=e.data;return t((0,j.ff)(n))})).catch((function(e){return t((0,j.xZ)(e.message))}))}},deleteContact:function(e){return function(t){t((0,j.LF)()),b().delete("/contacts/".concat(e)).then((function(){return t((0,j.uv)(e))})).catch((function(e){return t((0,j.EF)(e.message))}))}},editContact:function(e){var t=e.id,n=e.name,a=e.number;return function(e){var r={name:n,number:a};e((0,j.us)()),b().patch("/contacts/".concat(t),r).then((function(t){var n=t.data;return e((0,j.FS)(n))})).catch((function(t){return e((0,j.cZ)(t.message))}))}}},g=Z,y=n(4942),N=n(1413),w=n(249);function k(e){var t=e.show,n=e.handleClose,a=e.editableItem,i=(0,c.useState)({id:a.id,name:a.name,number:a.number}),o=(0,r.Z)(i,2),u=o[0],l=o[1],m=(0,s.v9)((function(e){return e.contacts})),f=(0,s.I0)(),p=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":case"number":l((function(e){return(0,N.Z)((0,N.Z)({},e),{},(0,y.Z)({},n,a))}));break;default:return}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(w.Z,{show:t,onHide:n,children:[(0,h.jsx)(w.Z.Header,{closeButton:!0,children:(0,h.jsx)(w.Z.Title,{children:"Edit contact"})}),(0,h.jsx)(w.Z.Body,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{children:"Name"}),(0,h.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:u.name,onChange:p}),(0,h.jsx)("h2",{children:"Number"}),(0,h.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u.number,onChange:p})]})}),(0,h.jsxs)(w.Z.Footer,{children:[(0,h.jsx)(d.Z,{variant:"secondary",onClick:n,children:"Cancel"}),(0,h.jsx)(d.Z,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var t,a=u.name;m.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(t=u,f(g.editContact(t))),n()},children:"Save Changes"})]})]})})}var F="ContactList_contact__list__2jNwc",L="ContactList_contact__list__item__fOWm7";function A(){var e=(0,c.useState)(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],o=(0,c.useState)(),u=(0,r.Z)(o,2),d=u[0],l=u[1],m=function(e){a(!0);var t=v.find((function(t){return t.id===e}));l(t)},f=(0,s.I0)(),v=(0,s.v9)((function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(arguments.length>1?arguments[1]:void 0).toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(e.contacts.contacts,e.contacts.filter)})),x=function(e){return f(g.deleteContact(e))};return(0,c.useEffect)((function(){f(g.fetchContacts())}),[f]),(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Z,{className:F,children:v.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,h.jsx)(p,{id:t,name:n,number:a,deleteEl:x,editEl:m,className:L},t)}))}),(0,h.jsx)("div",{children:n&&(0,h.jsx)(k,{show:n,handleClose:function(){return a(!1)},editableItem:d})})]})}var P=n(3027),E="SearchForm_filter__LXR9F",I="SearchForm_filter__input__oa1Hk";function q(){var e=(0,s.v9)((function(e){return e.contacts.filter})),t=(0,s.I0)();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(P.Z.Label,{htmlFor:"inputPassword5",className:E,children:"Find Contacts by Name"}),(0,h.jsx)(P.Z.Control,{type:"text",id:"inputPassword5",value:e,"aria-describedby":"passwordHelpBlock",onChange:function(e){return t(j.ZP.changeFilter(e.target.value))},className:I})]})}var S="ContactForm_form__dhl+T",B="ContactForm_form__label__8W82B",z="ContactForm_submit__btn__H2f6I";function R(){var e=(0,c.useState)(""),t=(0,r.Z)(e,2),n=t[0],a=t[1],i=(0,c.useState)(""),o=(0,r.Z)(i,2),u=o[0],l=o[1],m=(0,s.v9)((function(e){return e.contacts})),f=(0,s.I0)(),p=function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"name":a(r);break;case"number":l(r);break;default:return}},v=function(){a(""),l("")};return(0,h.jsx)(P.Z,{onSubmit:function(e){e.preventDefault();var t,a=e.target[0].value;m.contacts.map((function(e){return e.name.toLowerCase().trim()})).find((function(e){return e===a.toLowerCase().trim()}))?alert("".concat(a," is already in Contacts")):(t={name:n,number:u},f(g.addContact(t))),v()},className:S,children:(0,h.jsxs)("div",{children:[(0,h.jsxs)(P.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,h.jsx)(P.Z.Label,{className:B,children:"Name"}),(0,h.jsx)(P.Z.Control,{type:"text",placeholder:"Enter name",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:n,onChange:p}),(0,h.jsx)(P.Z.Text,{className:"text-muted",children:"Please enter your name"})]}),(0,h.jsxs)(P.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,h.jsx)(P.Z.Label,{className:B,children:"Number"}),(0,h.jsx)(P.Z.Control,{type:"tel",placeholder:"Enter phone number",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:u,onChange:p}),(0,h.jsx)(P.Z.Text,{className:"text-muted",children:"Please enter your phone number"})]}),(0,h.jsx)(d.Z,{variant:"primary",type:"submit",className:z,children:"Add contact"})]})})}R.propType={addContact:u().func.isRequired,arrayContact:u().array.isRequired};var T="ContactsPage_ListName__wU8RC",H="ContactsPage_Table__AlmDv",D="ContactsPage_contact_heading__rgMg7";function J(){return(0,h.jsx)("div",{children:(0,h.jsxs)(a.Z,{children:[(0,h.jsx)("h1",{className:D,children:"Phone Book"}),(0,h.jsxs)("div",{className:H,children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:T,children:"Adding contacts"}),(0,h.jsx)(R,{})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:T,children:"Contacts list"}),(0,h.jsx)(q,{}),(0,h.jsx)(A,{})]})]})]})})}}}]);
//# sourceMappingURL=140.6ebff71b.chunk.js.map